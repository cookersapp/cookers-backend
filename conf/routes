# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET       /                                     controllers.Application.index(any = "none")

# Tracking system
GET       /api/v1/track/events                  controllers.Tracking.getAll(name: Option[String])
GET       /api/v1/track/events/malformed        controllers.Tracking.getAllMalformed
GET       /api/v1/track/events/:id              controllers.Tracking.get(id: String)
POST      /api/v1/track/event                   controllers.Tracking.add
POST      /api/v1/track/events                  controllers.Tracking.addAll

# Stats for dashboard
GET       /api/v1/stats/week                    controllers.Stats.weekData(week: Option[Int])

# User management
GET       /api/v1/users                         controllers.Users.getAll
GET       /api/v1/users/find                    controllers.Users.findOrCreate(email: String, welcomeEmailSent: Option[Boolean])
GET       /api/v1/users/:id                     controllers.Users.get(id: String)
GET       /api/v1/users/:id/events              controllers.Tracking.getForUser(id: String)
PUT       /api/v1/users/:id/settings/:setting   controllers.Users.setUserSetting(id: String, setting: String)
PUT       /api/v1/users/:id/device              controllers.Users.setUserDevice(id: String)

POST      /api/v1/app-feedback                  controllers.Application.sendFeedback
DELETE    /api/v1/reset-database                controllers.Application.resetDatabase
GET       /api/export                           controllers.Application.export(exportUsers:Option[Boolean], exportEvents:Option[Boolean], exportMalformedEvents:Option[Boolean])
POST      /api/importAndMerge                   controllers.Application.importAndMerge
POST      /api/clearAndImport                   controllers.Application.clearAndImport

# Play routes serving JSON to AngularJS start with /api
GET       /api/celebrities                      controllers.Celebrities.index
POST      /api/celebrities/new                  controllers.Celebrities.create
GET       /api/celebrities/:id                  controllers.Celebrities.show(id: String)
POST      /api/celebrities/:id                  controllers.Celebrities.update(id: String)
DELETE    /api/celebrities/:id                  controllers.Celebrities.delete(id: String)

# Allow cross-origin
OPTIONS   /*all                                 controllers.Application.corsPreflight(all: String)

# Map static resources from the /public folder to the /assets URL path
GET       /assets/*file                         controllers.Assets.at(path="/public", file)

# Redirect all unknown routes to the index page
GET       /*any                                 controllers.Application.index(any)
